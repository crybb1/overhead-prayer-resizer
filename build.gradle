plugins {
    id 'java'
}

repositories {
    mavenLocal()
    maven {
        url = 'https://repo.runelite.net'
        content {
            includeGroupByRegex("net\\.runelite.*")
        }
    }
    mavenCentral()
}

dependencies {
    compileOnly group: 'net.runelite', name: 'client', version: '1.11.14'
    compileOnly 'org.projectlombok:lombok:1.18.32'
    annotationProcessor 'org.projectlombok:lombok:1.18.32'
}

group = 'com.opr'
version = '1.0.0'

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
    options.release.set(17)
}

tasks.register('runRuneLite', JavaExec) {
    group = 'application'
    description = 'Launch RuneLite with this plugin on the classpath'
    classpath = sourceSets.main.runtimeClasspath
    mainClass.set('net.runelite.client.RuneLite')
    jvmArgs '-Duser.home=' + project.buildDir.absolutePath, '-Dsun.java2d.opengl=true'
}
